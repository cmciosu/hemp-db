{% extends "master.html" %}

{% block title %}
  HempDB
{% endblock %}

{% block content %}

  {% if messages %}
    <div class="alert alert-success alert-dismissible fade show" role="alert" style="width: 40vw; margin-left: 20px; margin-top: 10px;">
      {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %} style="list-style-type: none;">{{ message }}</li>
      {% endfor %}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {% endif %}

  <div style="margin: 25px 45px;">
    <h1 class="fs-1" style="margin-bottom: 20px; display: flex; justify-content: center;">
      {{ title }}
    </h1>
    <div style="display: grid; justify-content: center;">
      <p class="text-wrap fs-6" style="width: 40vw; white-space:">
        {{ home_text|linebreaks }}
      </p>
    </div>
    <div style="display: flex; justify-content: center; gap: 15px;">
      <a class="btn btn-primary" href="/about" style="margin-top: 20px; "> 
        Learn More 
      </a>
      <a class="btn btn-primary" href="/contribute" style="margin-top: 20px; "> 
        Contribute
      </a>
      <a class="btn btn-primary" href="/companies" style="margin-top: 20px; "> 
        Explore Data
      </a>
    </div>
    <hr />
  </div>
  <h3 class="d-flex justify-content-center"> Resources </h3>
  <div class="d-flex flex-row m-5 gap-5 overflow-scroll"> 
    {% for article in articles %}
      <a href="{{ article.url }}" target="_blank" rel="noreferrer" class="card text-decoration-none overflow-x-scroll" style="min-width: 25vw;">
        <div class="card-body">
          <h5 class="card-title">{{article.title}}</h5>
          <p class="card-text"> {{article.text}} </p>
        </div>
      </a>
    {% endfor %}
  </div>
  <!-- <div x-data="{ isOpen: false }" class="ms-5">
    <button type="button" @click="isOpen = !isOpen" class="...">
      Newest
    </button>
  
    <div
      x-show="isOpen"
      x-transition:enter="transition ease-out duration-100 transform"
      x-transition:enter-start="opacity-0 scale-95"
      x-transition:enter-end="opacity-100 scale-100"
      x-transition:leave="transition ease-in duration-75 transform"
      x-transition:leave-start="opacity-100 scale-100"
      x-transition:leave-end="opacity-0 scale-95"
      class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg"
    >
      <div class="rounded-md bg-white shadow-xs">
        <ul class="list-none" style="list-style-type: none;">
          <li class="px-4 py-2 hover:bg-gray-100 cursor-pointer">Oldest</li>
          <li class="px-4 py-2 hover:bg-gray-100 cursor-pointer">A -> Z</li>
          <li class="px-4 py-2 hover:bg-gray-100 cursor-pointer">Z -> A</li>
        </ul>
      </div>
    </div>
  </div> -->

  <script src="https://cdn.jsdelivr.net/npm/@floating-ui/core@1.6.9"></script>
  <script src="https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.6.13"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.min.js"></script>

  <div class="dropdown ms-5">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Newest
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item" href="#">Oldest</a>
      <a class="dropdown-item" href="#">A -> Z</a>
      <a class="dropdown-item" href="#">Z -> A</a>
    </div>
  </div>

{% endblock %}